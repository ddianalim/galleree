<div class="container">
  <div class="show-post">
    <div>
      <img class="show-pic gridCentered" src={{post.picUrl}}>
    </div>
    <div class="show-text">
      <h2 class="show-title">{{post.title}}</h2>
      <p class="show-date" id="show-post-date"></p>
      <p class="show-description">{{post.description}}</p>
    </div>
  </div>

  <div>
    <a class="button control-button" id="back-button" href="/posts/">
      <img src="../images/back-arrow.png" width=20px height=20px>
      <div class="back-text">Back</div>
    </a>
  </div>

  <div>
    <a class="button control-button" id="settings-button" href="#" onclick="toggle_visibility('edit-button'); toggle_visibility('delete-button'); toggle_visibility('share-button')">
      <img src="../images/dots.png" width=20px height=20px>
    </a>
  </div>
</div>

  <div id="edit-button" style="display: none">
    <a class="control-button" href="/posts/{{post.id}}/edit">Edit</a>
  </div>

  <div id="delete-button" style="display: none">
    <form method="POST" action="/posts/{{post._id}}?_method=DELETE">
      <button class="control-button" type="submit" Onclick="return confirm('Are you sure you want to delete this project?');">Delete</button>
    </form>
  </div>

  <div id="share-button" style="display: none">
    <button class="control-button link-button" onclick="toggle_visibility('copied-link'); myFunction();">
       <img src="../images/link.png" width=20px height=20px>
    </button>
  </div>

  <div id="copied-link" style="display: none">
    <input type="text" value="http://www.galleree.com/posts/{{post.id}}/view" id="shareable-link">
  </div>

<script>
  function myFunction() {
    var copyText = document.getElementById("shareable-link");
    copyText.select();
    document.execCommand("copy");
  }
</script>

<script type="text/javascript">
  function toggle_visibility(id) {
    var e = document.getElementById(id);
    if(e.style.display == 'none')
      e.style.display = 'block';
    else
      e.style.display = 'none';
  }
</script>

<script>
  var date = new Date("{{post.date}}");
  var month = date.getUTCMonth()+1;
  var day = date.getUTCDate();
  var year = date.getUTCFullYear();

  var formatted_date = month+"/"+day+"/"+year;
  document.getElementById("show-post-date").innerHTML = formatted_date;
</script>
